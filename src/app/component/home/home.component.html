<div class="container">
  <!-- Tela inicial -->
  <div *ngIf="currentView === 'home'">
    <header class="header">
      <h1>Risco Dengue - Belo Horizonte, MG</h1>
      <p class="subtitle">Sistema de monitoramento epidemiológico das últimas 3 semanas</p>
    </header>

    <section class="description">
      <h2>Sobre os dados</h2>
      <p>
        Esta aplicação apresenta dados sobre casos de dengue em Belo Horizonte nas últimas 3 semanas epidemiológicas.
        São exibidas informações sobre semana epidemiológica, número de casos estimados, casos notificados e nível de risco.
      </p>

      <div class="info-source">
        <h3>Fonte de dados: InfoDengue</h3>
        <p>
          Os dados são provenientes do <a href="https://info.dengue.mat.br" target="_blank">info.dengue.mat.br</a>, um sistema
          de risco para arboviroses que integra dados da web social, climáticos e epidemiológicos.
        </p>
        <p>
          Desenvolvido em 2015 por pesquisadores da Fiocruz e FGV, com colaboração da Secretaria Municipal de
          Saúde do Rio de Janeiro, Observatório da Dengue/UFMG e universidades parceiras, o sistema ganhou
          abrangência nacional em 2021 com apoio do Ministério da Saúde.
        </p>
      </div>
    </section>

    <section class="view-options">
      <h2>Escolha como visualizar os dados:</h2>

      <div class="options-container">
        <div class="option-card" (click)="navigateToView('tabela')">
          <h3>Tabela</h3>
          <p>Visualize os dados em formato tabular, organizado por semana epidemiológica.</p>
        </div>

        <div class="option-card" (click)="navigateToView('grafico')">
          <h3>Gráfico</h3>
          <p>Acompanhe a evolução dos casos através de gráficos interativos.</p>
        </div>

        <div class="option-card" (click)="navigateToView('cards')">
          <h3>Cards</h3>
          <p>Visualize os dados em cards individuais para cada semana epidemiológica.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- Visualização em Tabela -->
  <div *ngIf="currentView === 'tabela'" class="data-view">
    <header class="view-header">
      <h2>Dados da Dengue - Últimas 3 Semanas</h2>
      <button class="back-button" (click)="backToHome()">Voltar</button>
    </header>

    <div class="table-container">
      <table mat-table [dataSource]="dengueData" matSort class="mat-elevation-z8">
        <ng-container matColumnDef="semanaEpidemiologica">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Semana Epidemiológica</th>
          <td mat-cell *matCellDef="let item">{{item.semanaEpidemiologica}}</td>
        </ng-container>

        <ng-container matColumnDef="casosEstimados">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Casos Estimados</th>
          <td mat-cell *matCellDef="let item">{{item.casosEstimados}}</td>
        </ng-container>

        <ng-container matColumnDef="casosNotificados">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Casos Notificados</th>
          <td mat-cell *matCellDef="let item">{{item.casosNotificados}}</td>
        </ng-container>

        <ng-container matColumnDef="nivelRisco">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Nível de Risco</th>
          <td mat-cell *matCellDef="let item" [ngClass]="'alert-level-' + item.nivelRisco">{{item.nivelRisco}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
    </div>
  </div>

  <!-- Visualização em Gráfico -->
  <div *ngIf="currentView === 'grafico'" class="data-view">
    <header class="view-header">
      <h2>Gráfico de Evolução da Dengue</h2>
      <button class="back-button" (click)="backToHome()">Voltar</button>
    </header>

    <div class="chart-container">
      <!-- Aqui você pode adicionar o código para o gráfico usando bibliotecas como Chart.js -->
      <div class="chart-placeholder">
        <p>Visualização gráfica da evolução dos casos de Dengue nas últimas 3 semanas</p>
        <!-- O gráfico será implementado aqui -->
      </div>
    </div>
  </div>

  <!-- Visualização em Cards -->
  <div *ngIf="currentView === 'cards'" class="data-view">
    <header class="view-header">
      <h2>Cards da Dengue - Últimas 3 Semanas</h2>
      <button class="back-button" (click)="backToHome()">Voltar</button>
    </header>

    <div class="cards-container">
      <div *ngFor="let item of dengueData" class="data-card">
        <div class="card-header">
          <h3>Semana {{item.semanaEpidemiologica}}</h3>
          <span class="alert-badge alert-level-{{item.nivelRisco}}">Risco Nível {{item.nivelRisco}}</span>
        </div>
        <div class="card-content">
          <div class="card-stat">
            <span class="stat-label">Casos Estimados</span>
            <span class="stat-value">{{item.casosEstimados}}</span>
          </div>
          <div class="card-stat">
            <span class="stat-label">Casos Notificados</span>
            <span class="stat-value">{{item.casosNotificados}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
